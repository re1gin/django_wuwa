{% extends 'base.html' %}
{% load static %}
{% block title %} {{ character.character }} {% endblock %}

{% block extra_head %}
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/resonator.css' %}">
{% endblock %}

{% block content %}

    <div class="hero">
        <div class="left">
            <div class="icon-container">
                {% for icon_char in all_characters_for_icons %}
                    <a href="{{ icon_char.detail_url }}"> 
                        <img src="{{ icon_char.icon_url }}"
                             class="character-icon {% if icon_char.is_active %}active{% endif %}"
                             alt="{{ icon_char.character_name|default:'Icon' }}" /> 
                    </a>
                {% endfor %}
            </div>

            <div class="character-profile">
                <h2>Character Profile</h2>
                <div class="profile">
                    <div class="profile-item">
                        <div class="label">Codename:</div>
                        <div class="value">{{ character.codename }}</div>
                    </div>
                    <div class="profile-item">
                        <div class="label">Alias:</div>
                        <div class="value">{{ json_data.Gelar|default:"N/A" }}</div>
                    </div>
                    <div class="profile-item">
                        <div class="label">Birthday:</div>
                        <div class="value">{{ character.birthday }}</div>
                    </div>
                    <div class="profile-item">
                        <div class="label">Sex:</div>
                        <div class="value">{{ character.sex }}</div>
                    </div>
                    <div class="profile-item">
                        <div class="label">Birthplace:</div>
                        <div class="value">{{ character.birthplace }}</div>
                    </div>
                    <div class="profile-item">
                        <div class="label">Affiliation:</div>
                        <div class="value">{{ character.affiliation }}</div>
                    </div>
                </div>

                <p class="description">
                    {{ json_data.Quote|default:"No description available."|linebreaksbr }}
                </p>
            </div>
        </div>

        <div class="center">
            <img src="{{ images.render }}" alt="{{ character.character }}" class="character-render" />

            <div class="stars">
                {% if character.rarity == '5 Star' %}
                    <img src="{% static 'assets/ikon/Star5.png' %}" alt="5 Stars" class="stars-img" />
                {% elif character.rarity == '4 Star' %}
                    <img src="{% static 'assets/ikon/logo/Star_4.png' %}" alt="4 Stars" class="stars-img" />
                {% else %}
                    <img src="{% static 'ikon/logo/Star_default.png' %}" alt="Stars" class="stars-img" />
                {% endif %}
            </div>
        </div>

        <div class="right">
            <div class="content">
                <div class="block">
                    <span class="title-block">NAME</span>
                    <span class="name-character">{{ character.character|upper }}</span>
                </div>

                <div class="tags">
                    <span class="tag yellow">{{ character.attribute }}</span>
                    <span class="tag gray">{{ character.weapon }}</span>
                </div>

                <div class="block">
                    <span class="title-block">STATUS</span>
                    <div class="stat">
                        <p>HP: {{ character.hp }}</p>
                        <p>ATK: {{ character.atk }}</p>
                        <p>DEF: {{ character.defense }}</p>
                        <p>ENERGY REGEN: {{ character.energy }}</p>
                        <p>CRITICAL RATE: {{ character.crit_rate }}%</p>
                        <p>CRITICAL DAMAGE: {{ character.crit_dmg }}%</p>
                    </div>
                </div>

                <div class="block">
                    <span class="title-block">ROLE</span>
                    <div class="role-tags">
                        <span>{{ character.role }}</span>
                    </div>
                </div>
            </div>

            <div class="btn-grup">
                <button class="btn enter" onclick="window.location.href='{{ builder_url }}';">ENTER TO BUILD</button>
                <button class="btn recommend">RECOMMEND</button>
            </div>
        </div>
    </div>

{% endblock content %}

{% block extra_js %}
{% endblock %}